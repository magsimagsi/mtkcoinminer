<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTK Coin Miner - Blockchain Mining Game</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-coins"></i>
                <span>MTK Miner</span>
            </div>
            <div class="nav-links">
                <a href="#game" class="nav-link active">
                    <i class="fas fa-gamepad"></i> Game
                </a>
                <a href="#wallet" class="nav-link">
                    <i class="fas fa-wallet"></i> Wallet
                </a>
                <a href="#faucet" class="nav-link">
                    <i class="fas fa-faucet"></i> Faucets
                </a>
                <a href="#stats" class="nav-link">
                    <i class="fas fa-chart-bar"></i> Stats
                </a>
            </div>
            <div class="nav-wallet">
                <div class="wallet-status" id="walletStatus" title="Click for MTK token info">
                    <i class="fas fa-plug"></i>
                    <span>Not Connected</span>
                </div>
                <button class="btn btn-connect" id="connectBtn" onclick="connectWallet()">
                    <i class="fas fa-plug"></i> Connect Wallet
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <main class="main-container">
        <!-- Game Section -->
        <section id="game" class="section active">
            <div class="section-header">
                <h1><i class="fas fa-gamepad"></i> MTK Mining Game</h1>
                <p>Click the golden spots to mine MTK coins! Claim them to get real ERC20 tokens on Sepolia.</p>
            </div>
            
            <div class="game-area">
                <div class="game-container">
                    <canvas id="gameCanvas"></canvas>
                    <div class="game-overlay">
                        <div class="mining-stats">
                            <div class="stat">
                                <span class="stat-label">Coins Mined</span>
                                <span class="stat-value" id="score">0</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Mining Power</span>
                                <span class="stat-value" id="multiplier">1x</span>
                            </div>
                        </div>
                        <div class="mining-tip">
                            <i class="fas fa-lightbulb"></i> Click the golden spots to mine MTK tokens!
                        </div>
                    </div>
                </div>
                
                <div class="game-controls">
                    <div class="controls-grid">
                        <button class="btn btn-game" onclick="upgradeMiningPower()">
                            <i class="fas fa-arrow-up"></i>
                            <span>Upgrade Power</span>
                            <small>100 MTK</small>
                        </button>
                        <button class="btn btn-game" onclick="buyMiner()">
                            <i class="fas fa-hard-hat"></i>
                            <span>Buy Miner</span>
                            <small>500 MTK</small>
                        </button>
                        <button class="btn btn-game" onclick="upgradeSpeed()">
                            <i class="fas fa-bolt"></i>
                            <span>Increase Speed</span>
                            <small>250 MTK</small>
                        </button>
                        <button class="btn btn-claim" onclick="claimTokens()" id="claimBtn">
                            <i class="fas fa-coins"></i>
                            <span>Claim MTK</span>
                            <small id="claimableAmount">0 available</small>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="game-stats">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="miners">1</div>
                            <div class="stat-label">Active Miners</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-tachometer-alt"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="speed">1.0</div>
                            <div class="stat-label">Mining Speed</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalMined">0</div>
                            <div class="stat-label">Total Mined</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalClaimed">0</div>
                            <div class="stat-label">Total Claimed</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Wallet Section -->
        <section id="wallet" class="section">
            <div class="section-header">
                <h1><i class="fas fa-wallet"></i> Wallet & Transactions</h1>
                <p>Manage your MTK tokens and blockchain transactions on Sepolia network</p>
            </div>
            
            <div class="wallet-container">
                <div class="wallet-info">
                    <div class="info-card">
                        <h3><i class="fas fa-info-circle"></i> Wallet Information</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Account Address</span>
                                <span class="info-value" id="accountAddress">Not connected</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Network</span>
                                <span class="info-value" id="network">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ETH Balance</span>
                                <span class="info-value" id="ethBalance">0 ETH</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Last Block</span>
                                <span class="info-value" id="lastBlock">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <h3><i class="fas fa-chart-line"></i> MTK Token Balances</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Game Balance</span>
                                <span class="info-value" id="gameBalance">0 MTK</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Claimable Balance</span>
                                <span class="info-value highlight" id="claimableBalance">0 MTK</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Wallet Balance</span>
                                <span class="info-value" id="walletTokenBalance">0 MTK</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Total Withdrawn</span>
                                <span class="info-value" id="totalWithdrawn">0 MTK</span>
                            </div>
                        </div>
                        <div style="margin-top: var(--spacing-lg); display: flex; gap: var(--spacing-sm);">
                            <button class="btn" onclick="addMTKToMetaMask()" style="flex: 1; background: var(--primary); color: black;">
                                <i class="fas fa-plus-circle"></i> Add MTK to MetaMask
                            </button>
                            <button class="btn" onclick="checkMTKBalance()" style="flex: 1; background: var(--info); color: white;">
                                <i class="fas fa-sync-alt"></i> Check Balance
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="transaction-section">
                    <div class="transaction-card">
                        <h3><i class="fas fa-exchange-alt"></i> Transfer MTK Tokens</h3>
                        <div class="form-group">
                            <label for="withdrawAmount">
                                <i class="fas fa-coins"></i> Amount to Send
                            </label>
                            <input type="number" id="withdrawAmount" placeholder="Enter amount" min="0.1" step="0.1" value="10">
                        </div>
                        <div class="form-group">
                            <label for="recipientAddress">
                                <i class="fas fa-user-circle"></i> Recipient Address
                            </label>
                            <input type="text" id="recipientAddress" 
                                   placeholder="0x..." 
                                   value="">
                            <small style="color: var(--text-tertiary); margin-top: var(--spacing-xs); display: block;">
                                Leave empty to send to yourself
                            </small>
                        </div>
                        
                        <div class="gas-estimation" id="withdrawGasInfo" style="display: none;">
                            <i class="fas fa-gas-pump"></i>
                            <span>Enter amount to estimate gas</span>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-estimate" onclick="estimateWithdrawGas()">
                                <i class="fas fa-calculator"></i> Estimate Gas
                            </button>
                            <button class="btn btn-withdraw" onclick="withdrawTokens()" disabled>
                                <i class="fas fa-paper-plane"></i> Send MTK
                            </button>
                        </div>
                        
                        <div style="margin-top: var(--spacing-lg); padding: var(--spacing-md); background: rgba(var(--primary), 0.1); border-radius: var(--border-radius);">
                            <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: var(--spacing-sm);">
                                <i class="fas fa-info-circle"></i> 
                                <strong>MTK Token Contract:</strong>
                            </p>
                            <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; color: var(--primary); word-break: break-all; background: rgba(0,0,0,0.2); padding: var(--spacing-sm); border-radius: var(--border-radius-sm);">
                                0x3D6Eb3Fc92C799CB6b8716c5c8E5f8A78eFE8A43
                            </div>
                            <a href="https://sepolia.etherscan.io/address/0x3D6Eb3Fc92C799CB6b8716c5c8E5f8A78eFE8A43" 
                               target="_blank" 
                               class="etherscan-link" 
                               style="display: inline-flex; align-items: center; gap: var(--spacing-xs); margin-top: var(--spacing-sm);">
                                <i class="fas fa-external-link-alt"></i> View on Etherscan
                            </a>
                        </div>
                    </div>
                    
                    <div class="transaction-card">
                        <h3><i class="fas fa-history"></i> Transaction History</h3>
                        <div class="transactions-list" id="transactionsList">
                            <div class="transaction-item empty">
                                <i class="fas fa-history"></i>
                                <span>No transactions yet</span>
                            </div>
                        </div>
                        <div style="display: flex; gap: var(--spacing-md);">
                            <button class="btn btn-refresh" onclick="refreshTransactions()">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                            <button class="btn" onclick="switchToSepolia()" style="background: var(--warning); color: white;">
                                <i class="fas fa-network-wired"></i> Switch to Sepolia
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Faucet Section -->
        <section id="faucet" class="section">
            <div class="section-header">
                <h1><i class="fas fa-faucet"></i> Get Test Tokens</h1>
                <p>Get free test tokens on Sepolia network for testing</p>
            </div>
            
            <div class="faucet-container">
                <!-- ETH Faucets -->
                <div class="faucet-category">
                    <h2><i class="fas fa-ethereum"></i> Get Sepolia ETH</h2>
                    <p class="category-description">You need ETH for gas fees to send transactions</p>
                    
                    <div class="faucet-grid">
                        <div class="faucet-card">
                            <div class="faucet-icon">
                                <i class="fas fa-rocket"></i>
                            </div>
                            <div class="faucet-content">
                                <h3>Alchemy Faucet</h3>
                                <p class="faucet-description">Most reliable - 0.5 ETH per day</p>
                                <div class="faucet-info">
                                    <span><i class="fas fa-check-circle"></i> Free account required</span>
                                    <span><i class="fas fa-bolt"></i> Fast delivery</span>
                                </div>
                            </div>
                            <button class="btn btn-faucet" onclick="getTestETH('alchemy')">
                                <i class="fas fa-external-link-alt"></i> Get ETH
                            </button>
                        </div>
                        
                        <div class="faucet-card">
                            <div class="faucet-icon">
                                <i class="fas fa-tint"></i>
                            </div>
                            <div class="faucet-content">
                                <h3>Infura Faucet</h3>
                                <p class="faucet-description">Infura account required</p>
                                <div class="faucet-info">
                                    <span><i class="fas fa-check-circle"></i> Free account</span>
                                    <span><i class="fas fa-shield-alt"></i> Secure</span>
                                </div>
                            </div>
                            <button class="btn btn-faucet" onclick="getTestETH('infura')">
                                <i class="fas fa-external-link-alt"></i> Get ETH
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- MTK Token -->
                <div class="faucet-category">
                    <h2><i class="fas fa-gamepad"></i> Get MTK Game Tokens</h2>
                    <p class="category-description">Real ERC20 tokens for the game on Sepolia</p>
                    
                    <div class="faucet-grid">
                        <div class="faucet-card">
                            <div class="faucet-icon" style="background: linear-gradient(135deg, var(--primary), var(--primary-dark));">
                                <i class="fas fa-coins"></i>
                            </div>
                            <div class="faucet-content">
                                <h3>MTK Game Token</h3>
                                <p class="faucet-description">Real ERC20 token on Sepolia network</p>
                                <div class="token-info">
                                    <span class="token-address">0x3D6Eb3Fc92C799CB6b8716c5c8E5f8A78eFE8A43</span>
                                </div>
                                <div style="margin-top: var(--spacing-md); display: flex; gap: var(--spacing-sm);">
                                    <button onclick="addMTKToMetaMask()" style="background: rgba(255,255,255,0.1); color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-size: 0.9em;">
                                        <i class="fas fa-plus-circle"></i> Add to MetaMask
                                    </button>
                                    <button onclick="checkMTKBalance()" style="background: rgba(255,255,255,0.1); color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-size: 0.9em;">
                                        <i class="fas fa-wallet"></i> Check Balance
                                    </button>
                                </div>
                            </div>
                            <button class="btn btn-faucet" onclick="getMTKTokens()">
                                <i class="fas fa-gift"></i> Get MTK
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Other Test Tokens -->
                <div class="faucet-category">
                    <h2><i class="fas fa-coins"></i> Other Test Tokens</h2>
                    <p class="category-description">Standard ERC20 tokens for testing</p>
                    
                    <div class="faucet-grid">
                        <div class="faucet-card">
                            <div class="faucet-icon" style="background: linear-gradient(135deg, #ff007a, #ff6b6b);">
                                <i class="fas fa-exchange-alt"></i>
                            </div>
                            <div class="faucet-content">
                                <h3>UNI Token</h3>
                                <p class="faucet-description">Uniswap Governance Token</p>
                                <div class="token-info">
                                    <span class="token-address">0x1f984...F984</span>
                                </div>
                            </div>
                            <button class="btn btn-faucet" onclick="getUniTokens()">
                                <i class="fas fa-gift"></i> Get UNI
                            </button>
                        </div>
                        
                        <div class="faucet-card">
                            <div class="faucet-icon" style="background: linear-gradient(135deg, #2a5ada, #1a91ff);">
                                <i class="fas fa-link"></i>
                            </div>
                            <div class="faucet-content">
                                <h3>LINK Token</h3>
                                <p class="faucet-description">Chainlink Oracle Token</p>
                                <div class="token-info">
                                    <span class="token-address">0x779877...4789</span>
                                </div>
                            </div>
                            <button class="btn btn-faucet" onclick="getLinkTokens()">
                                <i class="fas fa-gift"></i> Get LINK
                            </button>
                        </div>
                        
                        <div class="faucet-card">
                            <div class="faucet-icon" style="background: linear-gradient(135deg, #f6851b, #f5b342);">
                                <i class="fas fa-university"></i>
                            </div>
                            <div class="faucet-content">
                                <h3>DAI Token</h3>
                                <p class="faucet-description">Stablecoin Test Token</p>
                                <div class="token-info">
                                    <span class="token-address">0x3e622...C5d6</span>
                                </div>
                            </div>
                            <button class="btn btn-faucet" onclick="getDaiTokens()">
                                <i class="fas fa-gift"></i> Get DAI
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Instructions -->
                <div class="instructions-card">
                    <h3><i class="fas fa-graduation-cap"></i> How to Get & Use Tokens</h3>
                    <ol class="instructions-list">
                        <li>
                            <div class="instruction-step">
                                <span class="step-number">1</span>
                                <div class="step-content">
                                    <strong>Get Sepolia ETH</strong>
                                    <p>Use Alchemy or Infura faucet to get test ETH for gas fees</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="instruction-step">
                                <span class="step-number">2</span>
                                <div class="step-content">
                                    <strong>Get MTK Tokens</strong>
                                    <p>Click "Get MTK" button to receive 100 test tokens from faucet</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="instruction-step">
                                <span class="step-number">3</span>
                                <div class="step-content">
                                    <strong>Play the Game</strong>
                                    <p>Mine MTK in the game and claim them to your wallet</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="instruction-step">
                                <span class="step-number">4</span>
                                <div class="step-content">
                                    <strong>Transfer Tokens</strong>
                                    <p>Use the wallet section to send MTK to other addresses</p>
                                </div>
                            </div>
                        </li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section id="stats" class="section">
            <div class="section-header">
                <h1><i class="fas fa-chart-bar"></i> Game Statistics</h1>
                <p>Track your mining progress and earnings</p>
            </div>
            
            <div class="stats-container">
                <div class="stats-overview">
                    <div class="overview-card">
                        <div class="overview-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                            <i class="fas fa-mountain"></i>
                        </div>
                        <div class="overview-content">
                            <h3>Total Earnings</h3>
                            <div class="overview-value" id="totalEarnings">0 MTK</div>
                            <div class="overview-label">All time mined</div>
                        </div>
                    </div>
                    
                    <div class="overview-card">
                        <div class="overview-icon" style="background: linear-gradient(135deg, #f093fb, #f5576c);">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="overview-content">
                            <h3>Wallet Balance</h3>
                            <div class="overview-value" id="statsWalletBalance">0 MTK</div>
                            <div class="overview-label">Available to withdraw</div>
                        </div>
                    </div>
                    
                    <div class="overview-card">
                        <div class="overview-icon" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
                            <i class="fas fa-tachometer-alt"></i>
                        </div>
                        <div class="overview-content">
                            <h3>Mining Efficiency</h3>
                            <div class="overview-value" id="miningEfficiency">0 MTK/s</div>
                            <div class="overview-label">Coins per second</div>
                        </div>
                    </div>
                    
                    <div class="overview-card">
                        <div class="overview-icon" style="background: linear-gradient(135deg, #43e97b, #38f9d7);">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="overview-content">
                            <h3>Best Session</h3>
                            <div class="overview-value" id="bestSession">0 MTK</div>
                            <div class="overview-label">Highest in one game</div>
                        </div>
                    </div>
                </div>
                
                <div class="stats-charts">
                    <div class="chart-card">
                        <h3><i class="fas fa-chart-line"></i> Mining Progress</h3>
                        <div class="chart-container">
                            <canvas id="miningChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <h3><i class="fas fa-chart-pie"></i> Token Distribution</h3>
                        <div class="chart-container">
                            <canvas id="distributionChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="stats-history">
                    <div class="history-card">
                        <h3><i class="fas fa-history"></i> Recent Activity</h3>
                        <div class="activity-list" id="activityList">
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-coins"></i>
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">Game Started</div>
                                    <div class="activity-time">Just now</div>
                                </div>
                                <div class="activity-amount">Welcome!</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Notifications -->
    <div class="notification-container" id="notificationContainer">
        <!-- Notifications will be inserted here -->
    </div>

    <!-- Pending Overlay -->
    <div class="pending-overlay" id="pendingOverlay">
        <div class="pending-content">
            <div class="pending-spinner"></div>
            <div class="pending-text" id="pendingText">Processing Transaction...</div>
            <div class="pending-details">
                <div class="tx-hash" id="pendingTxHash"></div>
                <div class="gas-info" id="pendingGasInfo"></div>
            </div>
            <button class="btn btn-cancel" onclick="hidePendingOverlay()">
                <i class="fas fa-times"></i> Cancel
            </button>
        </div>
    </div>

    <!-- MTK Token Panel (Hidden by default) -->
    <div class="mtk-token-panel" id="mtkTokenPanel">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-sm);">
            <h4 style="color: var(--primary); margin: 0; font-size: 16px;">
                <i class="fas fa-coins"></i> MTK Token
            </h4>
            <button onclick="document.getElementById('mtkTokenPanel').style.display='none'" 
                    style="background: none; border: none; color: var(--text-tertiary); cursor: pointer; font-size: 18px;">
                Ã—
            </button>
        </div>
        
        <div style="margin-bottom: var(--spacing-sm);">
            <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 5px;">Contract Address:</div>
            <div style="background: rgba(255,255,255,0.05); padding: 8px; border-radius: 6px; font-family: 'JetBrains Mono', monospace; font-size: 11px; word-break: break-all;">
                0x3D6Eb3Fc92C799CB6b8716c5c8E5f8A78eFE8A43
            </div>
        </div>
        
        <div style="display: flex; gap: 8px; margin-bottom: var(--spacing-sm);">
            <button onclick="addMTKToMetaMask()" 
                    style="flex: 1; background: var(--primary); color: black; border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-size: 12px; font-weight: bold;">
                <i class="fas fa-plus-circle"></i> Add to MetaMask
            </button>
            <button onclick="window.open('https://sepolia.etherscan.io/address/0x3D6Eb3Fc92C799CB6b8716c5c8E5f8A78eFE8A43', '_blank')" 
                    style="flex: 1; background: rgba(255,255,255,0.1); color: white; border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-size: 12px;">
                <i class="fas fa-external-link-alt"></i> Etherscan
            </button>
        </div>
        
        <div style="display: flex; gap: 8px;">
            <button onclick="getMTKFromFaucet()" 
                    style="flex: 1; background: var(--success); color: white; border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-size: 12px;">
                <i class="fas fa-gift"></i> Get MTK
            </button>
            <button onclick="checkMTKBalance()" 
                    style="flex: 1; background: rgba(255,255,255,0.1); color: white; border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-size: 12px;">
                <i class="fas fa-wallet"></i> Check Balance
            </button>
        </div>
    </div>

    <!-- Debug Panel (Only shows in development) -->
    <div class="debug-panel" id="debugPanel" style="display: none;">
        <button onclick="debugWallet()">
            Debug
        </button>
        <button onclick="checkExistingConnection()">
            Reconnect
        </button>
        <button onclick="updateBalances()">
            Refresh
        </button>
    </div>

    <!-- Scripts - FIXED ORDER -->
    <script src="https://cdn.jsdelivr.net/npm/web3@1.7.0/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="utils.js"></script>
    <script src="game.js"></script>
    <script src="blockchain.js"></script>
    <script src="faucet.js"></script>
    <script src="script.js"></script>
    
    <script>
        // Show debug panel in development
        if (window.location.href.includes('localhost') || window.location.href.includes('127.0.0.1')) {
            document.getElementById('debugPanel').style.display = 'flex';
        }
        
        // Auto-show MTK panel after 5 seconds if not connected
        setTimeout(() => {
            if (!document.querySelector('.wallet-status.connected')) {
                document.getElementById('mtkTokenPanel').style.display = 'block';
            }
        }, 5000);
    </script>
</body>
</html>
